{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","name","number","Persons","persons","search","deletePerson","filter","item","toLowerCase","includes","map","person","onClick","Filter","handleSearch","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","invalidName","forEach","personObject","window","confirm","returnedPerson","catch","error","setTimeout","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6717243.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteWithId = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteWithId }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Person = ({name, number}) => {\n  return (\n    <>\n    <li>{name} {number}</li>\n    </>\n  )\n}\n\nconst Persons = ({persons, search, deletePerson}) => {\n  return (\n    <>\n      {persons.filter(item => item.name\n      .toLowerCase().includes(search)).map(\n        person =>\n        <ul key={person.id}>\n          <Person key={person.name}\n          name={person.name}\n          number={person.number}\n          />\n          <button \n          onClick={() => deletePerson(person.name, person.id)}>\n            delete\n          </button>\n        </ul>\n      )}\n    </>\n  )\n}\n\nconst Filter = ({search, handleSearch}) => {\n  return (\n    <div>\n      name: <input\n      value={search}\n      onChange={handleSearch}\n      />\n    </div>\n  )\n}\n\nconst PersonForm = ({\n  addPerson, newName, handleNameChange, newNumber, handleNumberChange\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: &nbsp; &nbsp; <input\n        value={newName}\n        onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input\n        value={newNumber}\n        onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  )\n}\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  const success = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  const error = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  if (message.includes('succesfully') || message.includes('Succesfully')) {\n    return (\n      <div style={success}>\n        {message}\n      </div>\n    )\n  } else {\n    return (\n      <div style={error}>\n        {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value.toLowerCase())\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let invalidName = false\n    persons.forEach(\n      (item) => {\n        invalidName = invalidName ? invalidName : item.name === newName\n    })\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (!invalidName) {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n        .catch(error => {\n          setMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n      setNewName('')\n      setNewNumber('')\n      setMessage(`Succesfully added ${newName}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    } else {\n      if (window.confirm(\n        `${newName} is already added to phonebook, \n        replace the old number with a new one?`\n        )) {\n          let id = 0\n          persons.forEach(person => {\n            if (person.name === newName) {\n              id = person.id\n            }\n          })\n          personService\n            .update(id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(\n                person => person.id !== id\n                ? person : returnedPerson\n                ))\n            })\n            .catch(error => {\n              setMessage(`${newName} was already deleted`)\n              setTimeout(() => {\n                setMessage(null)\n              }, 5000)\n              setPersons(persons.filter(item => item.id !== id))\n            })\n          setNewName('')\n          setNewNumber('')\n          setMessage(`${newName}'s number succesfully changed to ${newNumber}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n      }\n    }\n  }\n\n  const deletePerson = (name, id) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService.deleteWithId(id)\n        .then(response => {\n          console.log(response)\n        })\n        .catch(error => {\n          setMessage(`${newName} was already deleted`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n      setPersons(persons.filter(item => item.id !== id))\n      setMessage(`Succesfully deleted ${name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h2>Add new</h2>\n      <PersonForm\n      addPerson={addPerson}\n      newName={newName}\n      handleNameChange={handleNameChange}\n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} search={search} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}